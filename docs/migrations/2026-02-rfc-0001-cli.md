# Migration Notes: RFC-0001 CLI Model (2026-02)

This note records CLI migration guidance introduced during RFC-0001 implementation.

## Scope

- Applies to users migrating to builds that include RFC-0001 profile/plan/output behavior.
- Focuses on command-line and automation-facing contracts.

## Breaking Changes

No mandatory breaking CLI flag removals are introduced in this milestone.

## Behavioral Changes and Recommendations

1. Plan mode naming:
   - Canonical name is now `--plan`.
   - `--dry-run` remains accepted as an alias.
   - Recommendation: update scripts/docs to prefer `--plan`.

2. Machine-readable output:
   - `--output json|jsonl` now follows a stable schema contract (`schema_version: "1.0"`).
   - Recommendation: automation should parse `schema_version`, `mode`, and `error_code` explicitly.

3. Profile-driven defaults:
   - `--profile modern|safe|fast` is now available; default profile is `modern`.
   - Recommendation: pin `--profile` in automation for deterministic behavior.

## Upgrade Checklist

- Replace scripted `--dry-run` usage with `--plan` where practical.
- For CI integrations, consume `--output json` or `--output jsonl` instead of parsing human text.
- For deterministic pipelines, set both `--profile` and `--output` explicitly.
