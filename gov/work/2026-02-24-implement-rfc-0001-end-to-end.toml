[govctl]
schema = 1
id = "WI-2026-02-24-006"
title = "Implement RFC-0001 end-to-end"
status = "done"
created = "2026-02-24"
started = "2026-02-24"
completed = "2026-02-24"
refs = ["RFC-0001"]

[content]
description = """
Umbrella implementation work item for RFC-0001.

Goal:
Deliver the full RFC-0001 implementation across CLI, library API, error model, compatibility documentation, and verification pipeline.

Scope:
- End-to-end implementation of clauses C-PROFILES, C-PLAN-OUTPUT, C-LIBRARY-API, C-COMPATIBILITY, and C-ERROR-MODEL.
- Keep SSOT contracts and generated docs synchronized.
- Maintain green validation gates (fmt/check/clippy/tests/govctl check).
"""
notes = ["RFC-0001 is now normative/impl; this WI tracks full clause-by-clause implementation."]

[[content.journal]]
date = "2026-02-24"
content = """
- Advanced RFC-0001 to status=normative and phase=impl.
- Re-rendered RFC artifacts and verified governance consistency with `govctl check`."""

[[content.journal]]
date = "2026-02-24"
content = """
- Implemented baseline C-ERROR-MODEL work: stable `ErrorCode` taxonomy, typed CLI error enum, and SSOT-generated error-code reference sync checks.
- Validated baseline with fmt/check/clippy/tests."""

[[content.journal]]
date = "2026-02-24"
content = """
- Implemented CLI profile system (`modern` default, `safe`, `fast`) with profile-driven defaults and explicit flag override behavior.
- Added `--plan` (with `--dry-run` alias) and `--output human|json|jsonl` contracts for both plan and execute modes.
- Added stable machine-readable payloads with `schema_version=1.0`, `mode`, `effective_config`, and item records.
- Added integration tests for plan/output/profile contracts and ran full CLI test suite + clippy/check."""

[[content.journal]]
date = "2026-02-24"
content = """
- Implemented library-level planning/execution API in `parcopy` (`plan_copy`, `execute_plan`).
- Introduced explicit policy/runtime separation (`CopyPolicy`, `RuntimeOptions`) and structured result model (`CopyPlan`, `CopyReport`, `ItemReport`).
- Added typed event stream (`CopyEvent`, `EventHandler`) with planned/started/completed/skipped/failed variants.
- Added unit tests for plan classification, failed-item reporting, and typed event emission; verified workspace with check/clippy/tests."""

[[content.journal]]
date = "2026-02-24"
content = """
- Added canonical CLI behavior documentation at `docs/reference/cli-behavior.md`.
- Added RFC-0001 migration notes at `docs/migrations/2026-02-rfc-0001-cli.md` and linked both from README.
- Verified governance consistency with `govctl check`."""

[[content.acceptance_criteria]]
text = "Implement RFC-0001 C-PROFILES with built-in modern/safe/fast profiles and effective_config surfacing"
status = "done"
category = "added"

[[content.acceptance_criteria]]
text = "Implement RFC-0001 C-PLAN-OUTPUT with --plan and stable human/json/jsonl schema contracts"
status = "done"
category = "added"

[[content.acceptance_criteria]]
text = "Implement RFC-0001 C-LIBRARY-API with plan/execute APIs, policy/runtime separation, and typed events"
status = "done"
category = "added"

[[content.acceptance_criteria]]
text = "Implement RFC-0001 C-ERROR-MODEL with stable error_code mapping and typed enum errors across public APIs"
status = "done"
category = "added"

[[content.acceptance_criteria]]
text = "Implement RFC-0001 C-COMPATIBILITY requirements in docs and release migration notes"
status = "done"
category = "added"

[[content.acceptance_criteria]]
text = "Keep docs/render/tests/clippy/govctl check passing for all RFC-0001 implementation milestones"
status = "done"
category = "chore"
